<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Js13kGames 2018 Game by Kushagra Gour</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- build:css style.css -->
        <link rel="stylesheet" media="screen" href="main.css" />
        <link rel="stylesheet" media="screen" href="alphabets.css" />
        <link rel="stylesheet" media="screen" href="numbers.css" />
        <!-- endbuild -->

    </head>

    <body>
        <div class="stage-wrap">
            <div id="stageEl" class="stage">

                <div id="p1" class="sprite boy p1"></div>
                <div id="p2" class="sprite boy p2"></div>
                <div class="sprite score p1-score">
                    <div id="p1ScoreEl" class="number number-0"></div>
                </div>
                <div class="sprite score p2-score">
                    <div id="p2ScoreEl" class="number number-0"></div>
                </div>
                <Controller id="0" class="controller1" leftKey="97" rightKey="100" enterkey="115"></Controller>
                <Controller id="1" class="controller2" leftKey="106" rightKey="108" enterkey="107"></Controller>

                <div class="ui-wrap">
                    <Sentence word="key battle" classes="title"></Sentence>
                    <button autofocus class="btn" data-type="0" onclick="gameTypeBtnClickHandler(event)">
                        <Sentence word="vs computer"></Sentence>
                    </button>
                    <button class="btn" data-type="1" onclick="gameTypeBtnClickHandler(event)">
                        <Sentence word="vs 2player"></Sentence>
                    </button>

                    <div class="type-2-help">
                        <Sentence word="1p left/right/enter - a/d/s"></Sentence>
                        <Sentence word="2p left/right/enter - j/l/k"></Sentence>
                    </div>

                </div>
            </div>
        </div>
        <div class="overlay"></div>

        <!-- build:js script.js -->
        <script src="wordlist.js"></script>
        <script src="jsfxr.js"></script>
        <script src="main.js"></script>
        <script src="keypad.js"></script>
        <script src="sentence.js"></script>
        <script src="sounds.js"></script>
        <!-- endbuild -->

        <script>
            compile('Controller');
            compile('Sentence');
        </script>
        <!-- <script src="player-small.js"></script> -->
        <!-- <script src="music.js"></script> -->
        <script>
            window.onload = () => {
                return;
                // http://sb.bitsnbites.eu/?data=U0JveAwC7dA9SgNRFAXgc50wYqON-NMNcR9iY2nrSrKAqQ1OoYVdLF2GrsHetYwDsQiipBPF7ztcznuvu29-nVS6pl761PNiL2mP5kkum6rjp3RX7WlbtVwtV_ePN7ffdT4MUx6-6M_upmw2AAAAAAAA_KhxUdOkMmvP1i87-0m3Pv315YYtAQAAAAAA4J956yuvfWqctefT9WK3mvEg3WFO2jS-57cbtgwAAAAAAACb3gE
                var player = new CPlayer();
                player.init(song);
                const bgmInterval = setInterval(() => {
                    const done = player.generate();
                    if (done >= 1) {
                        var wave = player.createWave();
                        var audio = document.createElement("audio");
                        audio.src = URL.createObjectURL(new Blob([wave], {
                            type: "audio/wav"
                        }));
                        audio.loop = true;
                        audio.autoplay = true;
                        // audio.play();
                        // document.body.appendChild(audio);
                        clearInterval(bgmInterval);
                    }
                }, 10);
            }
        </script>

    </body>

</html>